<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الأطفال - مخيم صيفي</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html"><i class="fas fa-campground me-2"></i> مخيمي | Mokhayami </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html"><i class="fas fa-home me-1"></i> الرئيسية </a></li>
                    <li class="nav-item"><a class="nav-link active" href="children.html"><i class="fas fa-child me-1"></i> الأطفال </a></li>
                    <li class="nav-item"><a class="nav-link" href="luggage.html"><i class="fas fa-suitcase me-1"></i> أمتعة الطفل </a></li>
                    <li class="nav-item"><a class="nav-link " href="bank.html"><i class="fas fa-money-bill-wave me-1"></i> بنك الطفل </a></li>
                    <li class="nav-item"><a class="nav-link active" href="nasheed.html"><i class="fas fa-music me-1"></i> أنشودة </a></li>
                    <li class="nav-item"><a class="nav-link active" href="reports.html"><i class="fas fa-file-alt me-1"></i> تقارير </a></li>

                    <li class="nav-item"><a class="nav-link" href="contact.html"><i class="fas fa-phone me-1"></i> تواصل </a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="main-container container">
        <h2 class="text-center mb-4">إدارة الأطفال</h2>
        <div class="moroccan-pattern mb-4"></div>
        <button class="btn btn-primary btn-lg mb-3" data-bs-toggle="modal" data-bs-target="#childModal"><i class="fas fa-plus-circle me-2"></i>إضافة طفل</button>
        <div class="table-responsive">
            <table class="table table-bordered table-striped table-lg">
                <thead>
                    <tr>
                        <th>رقم</th>
                        <th>الاسم</th>
                        <th>الجنس</th>
                        <th>العمر</th>
                        <th>المدينة</th>
                        <th>المستوى</th>
                        <th>المبلغ الإجمالي</th>
                        <th>المبلغ المتبقي</th>
                        <th>إجراءات</th>
                    </tr>
                </thead>
                <tbody id="childrenTable"></tbody>
            </table>
        </div>
        <div class="text-end mt-3">
            <h6 class="mb-2 mt-4">لتنزيل البيانات الاطفال على شكل Excel:</h6>
            <button class="btn btn-primary" id="exportExcel"><i class="fas fa-file-export me-2"></i> تنزيل  البيانات </button>
        </div>

    </div>

    <!-- Modal Add Tefl-->
    <div class="modal fade" id="childModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle"> إضافة طفل جديد </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="childForm">
                        <input type="hidden" id="childId">
                        <div class="mb-3">
                            <label for="childName" class="form-label">الاسم الكامل</label>
                            <input type="text" class="form-control" id="childName" required>
                        </div>
                        <div class="mb-3">
                            <label for="gender" class="form-label">الجنس</label>
                            <select class="form-select" id="gender" required>
                                <option value="ذكر">ذكر</option>
                                <option value="أنثى">أنثى</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">رقم هاتف الولي</label>
                            <input type="tel" class="form-control" id="phone" pattern="\[0-9]{9}" placeholder="066...">
                        </div>
                        <div class="mb-3">
                            <label for="dob" class="form-label">تاريخ الميلاد</label>
                            <input type="date" class="form-control" id="dob" required>
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">المدينة</label>
                            <select class="form-select" id="city" required>
                                <option value="وجدة">وجدة</option>
                                <option value="الدار البيضاء">الدار البيضاء</option>
                                <option value="الرباط">الرباط</option>
                                <option value="فاس">فاس</option>
                                <option value="مراكش">مراكش</option>
                                <option value="طنجة">طنجة</option>
                                <option value="مكناس">مكناس</option>
                                <option value="أكادير">أكادير</option>
                                <option value="سلا">سلا</option>
                                <option value="القنيطرة">القنيطرة</option>
                                <option value="تطوان">تطوان</option>
                                <option value="تمارة">تمارة</option>
                                <option value="المحمدية">المحمدية</option>
                                <option value="خريبكة">خريبكة</option>
                                <option value="بني ملال">بني ملال</option>
                                <option value="الناظور">الناظور</option>
                                <option value="بني ملال"> حسيمة</option>
                                <option value="زايو">زايو</option>
                                <option value="الجديدة">الجديدة</option>
                                <option value="آسفي">آسفي</option>
                                <option value="بركان">بركان</option>
                                <option value="تازة">تازة</option>
                                <option value="العرائش">العرائش</option>
                                <option value="العيون">العيون</option>
                                <option value="السمارة">السمارة</option>
                                <option value="الداخلة">الداخلة</option>
                                <option value="بوجدور">بوجدور</option>

                                <option value="صفرو">صفرو</option>
                                <option value="تارودانت">تارودانت</option>
                                <option value="تزنيت">تزنيت</option>
                                <option value="ورزازات">ورزازات</option>
                                <option value="الرشيدية">الرشيدية</option>
                                <option value="خنيفرة">خنيفرة</option>
                                <option value="سيدي سليمان">سيدي سليمان</option>
                                <option value="سيدي قاسم">سيدي قاسم</option>
                                <option value="تاوريرت">تاوريرت</option>
                                <option value="تاونات">تاونات</option>
                                <option value="قلعة السراغنة">قلعة السراغنة</option>
                                <option value="جرادة">جرادة</option>
                                <option value="الفقيه بن صالح">الفقيه بن صالح</option>
                                <option value="ميدلت">ميدلت</option>
                                <option value="إفران">إفران</option>
                                <option value="أزيلال">أزيلال</option>
                                <option value="كلميم">كلميم</option>
                                <option value="سيدي إفني">سيدي إفني</option>
                                <option value="الصويرة">الصويرة</option>
                                <option value="اليوسفية">اليوسفية</option>
                                <option value="بنسليمان">بنسليمان</option>
                                <option value="سيدي بنور">سيدي بنور</option>
                                <option value="برشيد">برشيد</option>
                                <option value="تاونات">تاونات</option>
                                <option value="الزاك">الزاك</option>
                                <option value="أرفود">أرفود</option>
                                <option value="أزرو">أزرو</option>
                                <option value="أصيلة">أصيلة</option>
                                <option value="أحفير">أحفير</option>
                                <option value="أكنول">أكنول</option>
                                <option value="أكلموس">أكلموس</option>
                                <option value="أموزار كندر">أموزار كندر</option>
                                <option value="أولاد تايمة">أولاد تايمة</option>
                                <option value="أولاد برحيل">أولاد برحيل</option>
                                <option value="أولاد عياد">أولاد عياد</option>
                                <option value="أولاد النمة">أولاد النمة</option>
                                <option value="بني انصار">بني انصار</option>
                                <option value="بني بوعياش">بني بوعياش</option>
                                <option value="بني ملال">بني ملال</option>
                                <option value="اخر">اخر</option>

          
                              </select>
                        </div>
                        <div class="mb-3">
                            <label for="level" class="form-label">المستوى الدراسي</label>
                            <select class="form-select" id="level" required>
                                <option selected value="">اختر المستوى الدراسي </option>
                                <option value="روضة الأطفال">روضة الأطفال</option>
                                <option value="ابتدائي">ابتدائي</option>
                                <option value="إعدادي">إعدادي</option>
                                <option value="ثانوي">ثانوي</option>
                                <option value="ثانوي">اخر</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="totalAmount" class="form-label">المبلغ الإجمالي</label>
                            <div class="input-group">
                                <input type="number" step="0.01" class="form-control" id="totalAmount" placeholder="100..">
                                <span class="input-group-text"> DH</span>
                            </div>
                            <small class="form-text text-muted">  المبلغ المادي عند الطفل عند الدخول المخيم (مثال: 150)</small>
                        </div>
                        <div class="mb-3">
                            <label for="notes" class="form-label">ملاحظات</label>
                            <textarea class="form-control" id="notes"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary w-50" id="saveChildBtn"><i class="fas fa-save me-2"></i>حفظ</button>
                        <button type="button" class="btn btn-secondary w-40" data-bs-dismiss="modal">إغلاق</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="js/js/bootstrap.bundle.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="js/children.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>